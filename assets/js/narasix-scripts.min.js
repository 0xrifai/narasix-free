var NARASIX=NARASIX||{};!function(e){"use strict";var t=e(window),i=e(document);NARASIX.Utility={getBackendVar:function(e){if(void 0===window.narasixVar)return"";if(1==arguments.length)return window.narasixVar[e];var t=arguments[1];return window.narasixVar[e][t]}},NARASIX.documentOnReady={init:function(){NARASIX.documentOnReady.modalGlobal(),NARASIX.documentOnReady.ajaxLoadPosts(),NARASIX.documentOnReady.backToTop.init(),NARASIX.documentOnReady.heroPostSliderG(),NARASIX.documentOnReady.galleryCarousel(),NARASIX.documentOnReady.lightbox(),NARASIX.documentOnReady.heroPostSliderF(),NARASIX.documentOnReady.searchModalAutoFocus(),NARASIX.documentOnReady.navbarSubMenuToggle(),NARASIX.documentOnReady.offCanvasMenu(),NARASIX.documentOnReady.blockPostCarouselA(),NARASIX.documentOnReady.blockPostCarouselB(),NARASIX.documentOnReady.socialShare(),NARASIX.documentOnReady.horizonScroll(),NARASIX.documentOnReady.blockPostD(),NARASIX.documentOnReady.navMenuActive(),NARASIX.documentOnReady.widgetSlider(),NARASIX.documentOnReady.headerSticky.init({fixedHeader:".js-sticky-header",headerPlaceHolder:".js-sticky-header-holder"}),NARASIX.documentOnReady.stickySidebar(),NARASIX.documentOnScroll.init()},modalGlobal:function(){e(document).ready(function(){e(".modal-open").click(function(){var t=e(this).attr("data-modal");e(".modal").removeClass("active"),e(".overlay").addClass("active"),e(t).addClass("active fade-in"),e("body").addClass("overflow-hidden")}),e(".overlay, .closemodal").click(function(){e(".overlay").removeClass("active"),e(".modal").removeClass("active fade-in"),e("body").removeClass("overflow-hidden")}),e(document).keydown(function(t){27===t.keyCode&&(e(".overlay").removeClass("active"),e(".modal").removeClass("active fade-in"),e("body").removeClass("overflow-hidden"))})})},ajaxLoadPosts:function(){var t=e(".js-nsix-ajax-load-more"),i=NARASIX.Utility.getBackendVar("ajaxURL"),n=NARASIX.Utility.getBackendVar("ajaxLoadPost","loadMoreText"),a=NARASIX.Utility.getBackendVar("ajaxLoadPost","loadingText"),o=NARASIX.Utility.getBackendVar("ajaxLoadPost","noMoreText");function s(e){return e.currentPage++,e.offset+=e.postsPerPage,e.query=e.query.replace(/\boffset=(\d+)/,"offset="+e.offset),e}function l(e,t){switch(t){case"nomore":e.removeClass("is-active"),e.addClass("disabled"),e.find(".load-more-btn-text").text(o);break;case"loading":e.removeClass("is-active"),e.addClass("is-loading"),e.find(".load-more-btn-text").text(a);break;default:e.removeClass("is-loading"),e.addClass("is-active"),e.find(".load-more-btn-text").text(n)}}t.each(function(){var t=e(this),n=t.find(".js-nsix-ajax-content"),a=t.find(".js-ajax-load-posts-btn"),o=t.data("query"),r=void 0!==t.data("offset")?t.data("offset"):null,d=void 0!==t.data("posts-per-page")?t.data("posts-per-page"):null,c=t.data("currentPage"),u=void 0!==t.data("max-pages")?t.data("max-pages"):null,p=void 0!==t.data("ignore-sticky-posts")?t.data("ignore-sticky-posts"):null,h=void 0!==t.data("layout")?t.data("layout"):null,f=void 0!==t.data("columns")?t.data("columns"):null,v=void 0!==t.data("post-template")?t.data("post-template"):null,g=void 0!==t.data("hero-post-template")?t.data("hero-post-template"):null,w=void 0!==t.data("post-format-icon")?t.data("post-format-icon"):null,m=void 0!==t.data("excerpt-length")?t.data("excerpt-length"):null,$=void 0!==t.data("excerpt-length-hero")?t.data("excerpt-length-hero"):null,b=void 0!==t.data("post-meta-author")?t.data("post-meta-author"):null,A=void 0!==t.data("post-meta-date")?t.data("post-meta-date"):null,S={block:t,postsContainer:n,ajaxLoadBtn:a,query:o,offset:r,postsPerPage:d,currentPage:c,maxPages:u,ignoreStickyPosts:p,layout:h,columns:f,postTemplate:v,postHeroTemplate:g,postFormatIcon:w,excerptLength:m,excerptLengthHero:$,postMetaAuthor:b,postMetaDate:A};S=s(S),a.on("click",function(){var t,n,o;a.hasClass("is-active")&&(l(a,"loading"),n=(t=S).ajaxLoadBtn,(o=e.ajax({url:i,type:"post",dataType:"text",data:{action:"ajax_load_post",query:t.query,postsPerPage:t.postsPerPage,currentPage:t.currentPage,ignoreStickyPosts:t.ignoreStickyPosts,layout:t.layout,columns:t.columns,postTemplate:t.postTemplate,postHeroTemplate:t.postHeroTemplate,postFormatIcon:t.postFormatIcon,excerptLength:t.excerptLength,excerptLengthHero:t.excerptLengthHero,postMetaAuthor:t.postMetaAuthor,postMetaDate:t.postMetaDate}})).done(function(i){var a,o,r,d,c;a=i,o=t,r=e(a),d=o.postsContainer,c=o.ajaxLoadBtn,r&&(r.appendTo(d).css("opacity",0).animate({opacity:1},500),l(c,"ready")),function e(t){t.block.attr("data-current-page",t.currentPage-1)}(t=s(t)),t.currentPage>t.maxPages&&(l(n,"nomore"),n.off("click"))}),o.fail(function(){console.log("AJAX failed")}))})})},galleryCarousel:function(){new Swiper(".js-nsix-gallery-carousel",{slidesPerView:"auto",spaceBetween:18,freeMode:!0,scrollbar:{el:".swiper-scrollbar"}})},lightbox:function(){e(".pswp").length||e(".content-single").append('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"> <div class="pswp__bg"></div><div class="pswp__scroll-wrap"> <div class="pswp__container"> <div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"> <div class="pswp__top-bar"> <div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button> <div class="pswp__preloader"> <div class="pswp__preloader__icn"> <div class="pswp__preloader__cut"> <div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"> <div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"> </button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"> </button> <div class="pswp__caption"> <div class="pswp__caption__center"></div></div></div></div></div>'),document.querySelectorAll(".pswp")[0],!function(e){for(var t=function(e){for(var t,i,n,a,o=e.childNodes,s=o.length,l=[],r=0;r<s;r++)1===(t=o[r]).nodeType&&(n=(i=t.children[0]).getAttribute("data-size").split("x"),a={src:i.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10)},t.children.length>1&&(a.title=t.children[1].innerHTML),i.children.length>0&&(a.msrc=i.children[0].getAttribute("src")),a.el=t,l.push(a));return l},i=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,i){return t&&(i(t)?t:e(t.parentNode,i))}(e.target||e.srcElement,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var i,a=t.parentNode,o=t.parentNode.childNodes,s=o.length,l=0,r=0;r<s;r++)if(1===o[r].nodeType){if(o[r]===t){i=l;break}l++}return i>=0&&n(i,a),!1}},n=function(e,i,n,a){var o,s,l,r=document.querySelectorAll(".pswp")[0];if(l=t(i),s={galleryUID:i.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=l[e].el.getElementsByTagName("img")[0],i=window.pageYOffset||document.documentElement.scrollTop,n=t.getBoundingClientRect();return{x:n.left,y:n.top+i,w:n.width}},showHideOpacity:!0},a){if(s.galleryPIDs){for(var d=0;d<l.length;d++)if(l[d].pid==e){s.index=d;break}}else s.index=parseInt(e,10)-1}else s.index=parseInt(e,10);!isNaN(s.index)&&(n&&(s.showAnimationDuration=0),(o=new PhotoSwipe(r,PhotoSwipeUI_Default,l,s)).init())},a=document.querySelectorAll(e),o=0,s=a.length;o<s;o++)a[o].setAttribute("data-pswp-uid",o+1),a[o].onclick=i;var l=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++){if(i[n]){var a=i[n].split("=");!(a.length<2)&&(t[a[0]]=a[1])}}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();l.pid&&l.gid&&n(l.pid,a[l.gid-1],!0,!0)}(".js-nsix-lightbox-gallery")},heroPostSliderF:function(){"function"==typeof Swiper&&e(".js-hero-post-slider-f").each(function(e,t){new Swiper(t,{speed:300,parallax:!0,preventClicks:!0,direction:"horizontal",loop:!0,effect:"slide",spaceBetween:15,centeredSlides:!0,slidesOffsetBefore:0,grabCursor:!0,breakpoints:{320:{slidesPerView:1.2,spaceBetween:10},640:{slidesPerView:1.6}}}).init()})},heroPostSliderG:function(){e.isFunction(e.fn.slick)&&e(".js-hero-post-slider-g").each(function(t,i){var n=e(i),a=n.siblings(".js-hero-post-slider-nav"),o=n.siblings(".js-hero-post-slider-nav").find(".slider-navigation-item");o.length;var s=!0==n.data("autoplay"),l=parseInt(n.data("speed"));l||(l=6e3),n.slick({slidesToShow:1,arrows:!1,autoplay:s,autoplaySpeed:l,pauseOnHover:!1,fade:!0,speed:400,cssEase:"ease-in",waitForAnimate:!0,adaptiveHeight:!0}),a.on("click",".slider-navigation-item",function(){var t=e(this).index();n.slick("slickGoTo",t)}),n.on("beforeChange",function(e,t,i,n){o.eq(i);var a=o.eq(n);o.removeClass("is-active"),a.addClass("is-active")})})},blockPostCarouselA:function(){"function"==typeof Swiper&&e(".js-post-carousel-a").each(function(t,i){var n,a,o=e(i),s=o.siblings(".i_nav").find(".nsix-carousel-pagination-current"),l=o.siblings(".i_nav").find(".nsix-carousel-pagination-total"),r=o.siblings(".i_nav").find(".nsix-carousel-prev-btn"),d=o.siblings(".i_nav").find(".nsix-carousel-next-btn"),r=o.siblings(".i_nav").find(".nsix-carousel-prev-btn"),c={init:!1,slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,freeMode:!0,grabCursor:!0,pagination:{el:".nsix-carousel-hidden-pagination",type:"fraction"}};o.hasClass("nsix-carousel-auto-width")||(c.slidesPerView=1.45,c.breakpoints={576:{slidesPerView:2.45},768:{slidesPerView:3.45},992:{slidesPerView:4.45},1200:{slidesPerView:4.45}});var u=new Swiper(i,c);u.once("init",function(){n=o.find(".nsix-carousel-hidden-pagination .swiper-pagination-current"),a=o.find(".nsix-carousel-hidden-pagination .swiper-pagination-total"),l.text(a.text())}),u.init(),u.on("slideChange",function(){s.text(n.text())}),u.on("resize",function(){n=o.find(".nsix-carousel-hidden-pagination .swiper-pagination-current"),a=o.find(".nsix-carousel-hidden-pagination .swiper-pagination-total"),s.text(n.text()),l.text(a.text())}),r.on("click",function(e){u.slidePrev()}),d.on("click",function(e){u.slideNext()})})},blockPostCarouselB:function(){"function"==typeof Swiper&&e(".js-post-carousel-b").each(function(t,i){var n=e(i),a={init:!1,slidesPerView:"auto",spaceBetween:20,watchOverflow:!0,freeMode:!0,grabCursor:!0,navigation:{nextEl:".button--next",prevEl:".button--prev"}};n.hasClass("nsix-carousel-auto-width")||(a.slidesPerView=1.45,a.breakpoints={768:{slidesPerView:2.45},992:{slidesPerView:3.45},1200:{slidesPerView:4.45}}),new Swiper(i,a).init()})},offCanvasMenu:function(){var t=e('<div class="nsix-offcanvas-backdrop"></div>'),i=e(".js-nsix-offcanvas"),n=e(".js-nsix-offcanvas-toggle"),a=e(".js-nsix-offcanvas-close"),o=e(".nsix-offcanvas .offcanvas-navigation li.menu-item-has-children");function s(){i.removeClass("is-active"),e("body").removeClass("overflow-hidden"),t.removeClass("is-shown"),setTimeout(function(){t.detach()},300)}t.on("click",function(){s()}),n.on("click",function(i){i.preventDefault();var n=e(this).attr("href");e(n).toggleClass("is-active"),e("body").addClass("overflow-hidden"),t.appendTo(document.body),setTimeout(function(){t.addClass("is-shown")},1)}),a.on("click",function(e){e.preventDefault(),s()}),o.each(function(){var t=e(this);t.on("click","a, li",function(t){"#"===e(t.target).attr("href")?t.preventDefault():t.stopPropagation()}),t.on("click",function(){t.toggleClass("is-sub-menu-opened")})})},searchModalAutoFocus:function(){var t=e("#nsix-search-modal");t.on("shown.bs.modal",function(){t.find(".search-field").focus()}),e("input[name=s]").keyup(function(){var t;(t=e("input[name=s]").val())?(e("#search-results").html('<div class="w-full grid justify-center h-44 content-center"><svg class="-ml-1 mr-3 h-5 w-5 animate-spin" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"/><path class="opacity-75" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" fill="currentColor"/></svg></div>'),e.ajax({url:"<?php echo home_url( "/" ); ?>",data:{s:t,action:"search"},type:"GET",dataType:"html",success:function(t){e("#search-results").html(t)}})):e("#search-results").html("")})},navbarSubMenuToggle:function(){var t=e(".site-header-navigation li.menu-item-has-children");t.on("click",function(){e(this).children(".sub-menu").slideToggle(200)}),t.on("click","a, li",function(e){e.stopPropagation()})},headerSticky:{headerPlaceHolder:"",fixedHeader:"",isDisabled:!1,isFixed:!1,isShown:!1,windowScrollTop:0,lastWindowScrollTop:0,offCheckpoint:0,onCheckpoint:0,init:function n(a){this.fixedHeader=e(a.fixedHeader),this.headerPlaceHolder=e(a.headerPlaceHolder),this.fixedHeader.length&&(i.ready(function(){NARASIX.documentOnReady.headerSticky.fixedHeader.css("display","block"),NARASIX.documentOnReady.headerSticky.compute()}),t.load(function(){NARASIX.documentOnReady.headerSticky.compute(),NARASIX.documentOnReady.headerSticky.updateState()}))},compute:function i(){this.headerPlaceHolder.length?this.offCheckpoint=e(this.headerPlaceHolder).offset().top+e(this.headerPlaceHolder).outerHeight(!0)+400:this.offCheckpoint=500,this.onCheckpoint=this.offCheckpoint+500,992>t.width()?this.isDisabled=!0:(this.windowScrollTop=t.scrollTop(),this.offCheckpoint<this.windowScrollTop&&(this.isFixed=!0))},updateState:function e(){this.isFixed?this.fixedHeader.addClass("is-fixed"):this.fixedHeader.removeClass("is-fixed"),this.isShown?this.fixedHeader.addClass("is-shown"):this.fixedHeader.removeClass("is-shown")},eventScroll:function e(t){var i="",n=0;!this.isDisabled&&t!=this.lastWindowScrollTop&&(i=t>this.lastWindowScrollTop?"down":"up",n=Math.abs(t-this.lastWindowScrollTop),this.lastWindowScrollTop=t,this.offCheckpoint<t?this.isFixed=!0:this.isFixed=!1,this.isFixed?"down"==i&&n>14?this.isShown&&(this.isShown=!1):!this.isShown&&n>14&&this.onCheckpoint<t&&(this.isShown=!0):this.isShown=!1,this.updateState())},eventResize:function e(t){t>=992?(this.isDisabled=!1,this.fixedHeader.addClass("is-shown")):(this.isDisabled=!0,this.fixedHeader.removeClass("is-shown"))}},stickySidebar:function(){if(e.isFunction(e.fn.theiaStickySidebar)){var t=NARASIX.Utility.getBackendVar("stickySidebarMarginTop");jQuery(".js-nsix-sticky-sidebar").theiaStickySidebar({additionalMarginTop:t,additionalMarginBottom:20})}},socialShare:function(){new Swiper("#scroll-share",{direction:"horizontal",slidesPerView:"auto",freeMode:!0,scrollbar:{el:".swiper-scrollbar"},mousewheel:!0}),e(".swiper-scrollbar").show()},blockPostD:function(){"function"==typeof Swiper&&(window.innerWidth<1200?new Swiper(".swiper-block_post_d",{direction:"horizontal",slidesPerView:1,paginationClickable:!0,spaceBetween:0,autoplay:2500,grabCursor:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"}}):new Swiper(".swiper-block_post_d",{direction:"horizontal",slidesPerView:1,parallax:!0,paginationClickable:!0,spaceBetween:0,speed:1500,autoplay:2500,grabCursor:!0,navigation:{nextEl:".button-next",prevEl:".button-prev"}}))},horizonScroll:function(){let e=document.querySelectorAll(".scrolling-wrapper");e.forEach(e=>{let t=!1,i,n;e.addEventListener("mousedown",a=>{let o=e.getBoundingClientRect();t=!0,e.classList.add("active"),i=a.pageX-o.left,n=e.scrollLeft,console.log(i,n)}),e.addEventListener("mouseleave",()=>{t=!1,e.dataset.dragging=!1,e.classList.remove("active")}),e.addEventListener("mouseup",()=>{t=!1,e.dataset.dragging=!1,e.classList.remove("active")}),e.addEventListener("mousemove",a=>{if(!t)return;let o=e.getBoundingClientRect();a.preventDefault(),e.dataset.dragging=!0;let s=a.pageX-o.left,l=s-i;e.scrollLeft=n-l,console.log(s,l,e.scrollLeft)})})},navMenuActive:function(){var e=window.location.href;document.querySelectorAll(".navigation .menu-item a").forEach(function(t){t.href===e?t.parentElement.classList.add("active"):t.parentElement.classList.remove("active")})},widgetSlider:function(){"function"==typeof Swiper&&new Swiper(".widget-slider",{spaceBetween:10,pagination:{el:".swiper-pagination",clickable:!0}})},backToTop:{backTopBtn:null,init:function(){this.backTopBtn=e(".js-nsix-back-top-btn"),this.backTopBtn.length&&this.backTopBtn.on("click",function(){e("html, body").animate({scrollTop:0},{duration:200,easing:"swing"})})},eventScroll:function e(i){i>t.height()?this.backTopBtn.addClass("is-shown"):this.backTopBtn.removeClass("is-shown")}}},NARASIX.documentOnScroll={ticking:!1,windowScrollTop:0,init:function(){window.addEventListener("scroll",function(e){NARASIX.documentOnScroll.ticking||window.requestAnimationFrame(function(){NARASIX.documentOnScroll.windowScrollTop=t.scrollTop(),NARASIX.documentOnReady.backToTop.eventScroll(NARASIX.documentOnScroll.windowScrollTop),NARASIX.documentOnReady.headerSticky.eventScroll(NARASIX.documentOnScroll.windowScrollTop),NARASIX.documentOnScroll.ticking=!1}),NARASIX.documentOnScroll.ticking=!0})}},NARASIX.documentOnResize={ticking:!1,windowWidth:0,init:function(){window.addEventListener("resize",function(e){NARASIX.documentOnResize.ticking||window.requestAnimationFrame(function(){NARASIX.documentOnResize.windowWidth=t.width(),NARASIX.documentOnReady.headerSticky.eventResize(NARASIX.documentOnResize.windowWidth),NARASIX.documentOnResize.ticking=!1}),NARASIX.documentOnResize.ticking=!0})}},i.ready(NARASIX.documentOnReady.init),t.on("resize",NARASIX.documentOnResize.init)}(jQuery);